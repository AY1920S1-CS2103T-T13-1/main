<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><title>Yen Peng - Project Portfolio</title><link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css"></head><body class="article"><div id="seedu-header"><nav class="navbar navbar-lg navbar-light bg-lighter"><div class="container"><a class="navbar-brand" href="https://se-edu.github.io/"><img src="../images/SeEduLogo.png" alt="SE-EDU"></a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level1">AB-1</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level2">AB-2</a></li><li class="nav-item"><a class="nav-link active" href="../index.html">AB-3</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level4">AB-4</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/collate">Collate</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/se-book">Book</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/learningresources">Resources</a></li></ul></div></nav></div><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="../index.html">AddressBook-Level3</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link" href="../DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link" href="../LearningOutcomes.html">LOs</a></li><li class="nav-item"><a class="nav-link active" href="../AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="../ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://github.com/se-edu/addressbook-level3"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>Yen Peng - Project Portfolio</h1></div><div id="content"><div class="sect1">
<h2 id="project-portfolio-for-organice"><a class="link" href="#project-portfolio-for-organice">Project Portfolio for ORGANice</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The purpose of this project portfolio is to present my main contributions to ORGANice.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="introduction"><a class="link" href="#introduction">1. Introduction</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section covers the project scope and description, followed an explanation of the formats used.</p>
</div>
<div class="sect2">
<h3 id="project-scope"><a class="link" href="#project-scope">1.1. Project scope</a></h3>
<div class="paragraph">
<p>ORGANice is the product of a software engineering project done by a team of 5 students, including myself, who are second-year Computer Science students from the National University of Singapore (NUS).
Under a two-month-long time frame, we conceptualised ORGANice and molded it from an existing application, known as "Address Book", that stores and manages people&#8217;s contact information.
My role in this project is to design and write the code for the <code>list</code> and <code>sort</code> features for ORGANice, and to offer advice for the design aspect of the application.
For the languages used, ORGANice is written in Java while its Graphical User Interface (GUI) is written in JavaFX.</p>
</div>
</div>
<div class="sect2">
<h3 id="project-description"><a class="link" href="#project-description">1.2. Project description</a></h3>
<div class="paragraph">
<p>ORGANice is a Command Line Interface (CLI) desktop application, meaning that user interaction is mainly through typing in commands.
This application is targeted at hospital administrators and its main features include storing hospital information,
finding compatible donors for patients awaiting organ transplants, and following up on administrative matters related to the organ matching process.</p>
</div>
<div class="paragraph">
<p><strong>ORGANice has the following features:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Maintain the information of doctors, donors, and patients using <code>add</code> and <code>edit</code></p>
</li>
<li>
<p>Find information quickly using <code>find</code> and <code>list</code></p>
</li>
<li>
<p>Match compatible organ donors with patients and sort the matches using <code>match</code> and <code>sort</code></p>
</li>
<li>
<p>Keep track of patient-donor pairs slated for further compatibility tests using <code>processing</code> and subsequent administrative tasks using <code>processingmarkdone</code></p>
</li>
<li>
<p>Mark patient-donor pair as <code>done</code> to remove from future matching results</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="meaning-of-the-formats-used"><a class="link" href="#meaning-of-the-formats-used">1.3. Meaning of the formats used</a></h3>
<div class="paragraph">
<p>The following is a list of various formats used and what they mean:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sort</code> &#8201;&#8212;&#8201; Purple texts are technical terms used in this project.</p>
</li>
<li>
<p><a href="https://github.com/AY1920S1-CS2103T-T13-1/main/pull/153">#153</a> &#8201;&#8212;&#8201; Blue underlined texts consist of a link that opens up a relevant webpage.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="summary-of-contributions"><a class="link" href="#summary-of-contributions">2. Summary of Contributions</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section elaborates on the enhancements I did to ORGANice with the relevant links (in blue).</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Major enhancement</strong>: Added the ability to sort matches according to different criteria. (Pull request <a href="https://github.com/AY1920S1-CS2103T-T13-1/main/pull/145">#145</a>)</p>
<div class="ulist">
<ul>
<li>
<p>What it does: Allows the user to sort patient-donor pairs according to compatibility rate, the priority of the patients, or donors' organ expiry date.</p>
</li>
<li>
<p>Justification: Helps the hospital to make more informed decisions after knowing which pairs are the most compatible, which patient to prioritize, and which organs are expiring soon respectively.</p>
</li>
<li>
<p>Highlights: Able to add in more sorting options in future enhancements. The implementation is challenging as it required an in-depth analysis of how the match feature is implemented.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Minor enhancement</strong>: Added a list feature that allows the user to list down all persons or persons of a specified type in ORGANice. (Pull request <a href="https://github.com/AY1920S1-CS2103T-T13-1/main/pull/113">#113</a>)</p>
</li>
<li>
<p><strong>Minor enhancement</strong>: Added an organ class to ORGANice. (Pull request <a href="https://github.com/AY1920S1-CS2103T-T13-1/main/pull/86">#86</a>)</p>
</li>
<li>
<p><strong>Minor enhancement</strong>: Designed the logo of ORGANice, and updated the application window to display title and logo. (Pull request <a href="https://github.com/AY1920S1-CS2103T-T13-1/main/pull/136">#136</a>)</p>
</li>
<li>
<p><strong>Code contributed</strong>: You may click on the following link to see a sample of my code.
(<a href="https://nus-cs2103-ay1920s1.github.io/tp-dashboard/#search=Yen-Peng&amp;sort=groupTitle&amp;sortWithin=title&amp;since=2019-09-06&amp;timeframe=commit&amp;mergegroup=false&amp;groupSelect=groupByRepos&amp;breakdown=false&amp;tabOpen=true&amp;tabType=authorship&amp;tabAuthor=Yen-Peng&amp;tabRepo=AY1920S1-CS2103T-T13-1%2Fmain%5Bmaster%5D">Functional and Test code</a>)</p>
</li>
<li>
<p><strong>Other contributions</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Project Management</p>
<div class="ulist">
<ul>
<li>
<p>Created issues on the project board to keep track of tasks to be done.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Enhancements to existing features</p>
<div class="ulist">
<ul>
<li>
<p>Fixed bug related to the list feature. (Pull request <a href="https://github.com/AY1920S1-CS2103T-T13-1/main/pull/236">#236</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Documentation</p>
<div class="ulist">
<ul>
<li>
<p>Updated information about our team in the "About Us" section of ORGANice. (Pull request <a href="https://github.com/AY1920S1-CS2103T-T13-1/main/pull/11">#11</a>)</p>
</li>
<li>
<p>Authored the sections that guide users through the features 'Edit', 'List', 'Sort' and 'Help' in the User Guide. (Pull request <a href="https://github.com/AY1920S1-CS2103T-T13-1/main/pull/133">#133</a>)</p>
</li>
<li>
<p>Authored the implementations and use cases of the 'List' and 'Sort' features in the Developer Guide. (Pull requests <a href="https://github.com/AY1920S1-CS2103T-T13-1/main/pull/131">#131</a>,
<a href="https://github.com/AY1920S1-CS2103T-T13-1/main/pull/153">#153</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Community</p>
<div class="ulist">
<ul>
<li>
<p>Reviewed pull requests with non-trivial review comments. (Pull requests <a href="https://github.com/AY1920S1-CS2103T-T13-1/main/pull/148">#148</a>, <a href="https://github.com/AY1920S1-CS2103T-T13-1/main/pull/150">#150</a>)</p>
</li>
<li>
<p>Reported bugs and offered suggestions for other teams in the class together with my teammates, Sim Nee and Iskandar.
(Examples: <a href="https://github.com/nus-cs2103-AY1920S1/addressbook-level3/pull/54">1</a>,
<a href="https://github.com/nus-cs2103-AY1920S1/addressbook-level3/pull/110">2</a>)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-user-guide"><a class="link" href="#contributions-to-the-user-guide">3. Contributions to the User Guide</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section showcases my ability to write documentation targeting end-users through an excerpt of what I have written for the User Guide,
and this includes the <code>sort</code>, <code>list</code>, <code>help</code> and <code>edit</code> features.</p>
</div>
<div class="paragraph">
<p><span class="teal">{Start of the excerpt from User Guide}</span></p>
</div>
<div class="sect2">
<h3 id="sorting-matches-code-sort-code"><a class="link" href="#sorting-matches-code-sort-code">3.1. Sorting matches: <code>sort</code></a></h3>
<div class="paragraph">
<p>After using the match command, you can sort the list of matches to determine which patients to prioritize for an organ transplant.</p>
</div>
<div class="paragraph">
<p><strong>The sort command can only be used after a match command</strong> to sort the resulting list of patient-donor pairs generated.
There are three criteria in which you can sort the matches, namely:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Sorting based on donor&#8217;s organ expiry date</p>
</li>
<li>
<p>Sorting based on priority</p>
</li>
<li>
<p>Sorting based on the compatibility rate of match</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These criteria will be further explained below.</p>
</div>
<div class="paragraph">
<p>Note that <strong>only one criterion can be used in a single sort command</strong>.</p>
</div>
<div class="sect3">
<h4 id="sorting-based-on-donor-s-organ-expiry-date"><a class="link" href="#sorting-based-on-donor-s-organ-expiry-date">3.1.1. Sorting based on donor&#8217;s organ expiry date</a></h4>
<div class="paragraph">
<p>To find out which organs are expiring soon, you can sort the list of matched donors based on the donor&#8217;s organ expiry date (from the earliest to the latest expiry date).</p>
</div>
<div class="paragraph">
<p>Format: <code>sort expiry</code></p>
</div>
<div class="paragraph">
<p>For example, after running a match command on a specific patient with <code>match ic/<strong>NRIC</strong></code>, you will get the list of donors that are compatible with said patient.
You can then run <code>sort expiry</code> to obtain the list of donors with earlier organ expiry dates near the top of the list.</p>
</div>
</div>
<div class="sect3">
<h4 id="sorting-based-on-priority"><a class="link" href="#sorting-based-on-priority">3.1.2. Sorting based on priority</a></h4>
<div class="paragraph">
<p>To determine which patient to prioritize for an organ transplant, you can sort the list of matched patients based on their priority (from highest to lowest).
You may refer to <a href="#Glossary">[Glossary]</a> to understand what priority means.</p>
</div>
<div class="paragraph">
<p>Format: <code>sort priority</code></p>
</div>
<div class="paragraph">
<p>For example, after running <code>match ic/all</code>, you will obtain a list of patients.
You can then run <code>sort priority</code> to obtain the list with higher priority patients near the top of the list.</p>
</div>
<div class="paragraph">
<p>Note that in the case where patients have the <strong>same priority</strong>, those with more matched donors will be displayed first.
If these two factors are the same for a group of patients, they will be displayed according to their names in alphabetical order.</p>
</div>
</div>
<div class="sect3">
<h4 id="sorting-based-on-the-compatibility-rate-of-match"><a class="link" href="#sorting-based-on-the-compatibility-rate-of-match">3.1.3. Sorting based on the compatibility rate of match</a></h4>
<div class="paragraph">
<p>To determine which patient-donor pair is the most compatible, you can
sort the list of compatible donors of that patient based on the compatibility rate of the match (from highest to lowest).
You may refer to <a href="#Glossary">[Glossary]</a> for more information on the compatibility rate.</p>
</div>
<div class="paragraph">
<p>Format: <code>sort rate</code></p>
</div>
<div class="paragraph">
<p>Take for instance, after running a match command on a specific patient with <code>match ic/<strong>NRIC</strong></code>, you will get a list of donors that are compatible with said patient.
You can then run <code>sort rate</code> to obtain the list of donors with higher compatibility rates near the top of the list.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="listing-persons-code-list-code"><a class="link" href="#listing-persons-code-list-code">3.2. Listing persons: <code>list</code></a></h3>
<div class="paragraph">
<p>This list command can show you the list of persons in ORGA<em>Nice</em>.</p>
</div>
<div class="sect3">
<h4 id="listing-all-persons"><a class="link" href="#listing-all-persons">3.2.1. Listing all persons</a></h4>
<div class="paragraph">
<p>Simply type <code>list</code> in the Command Box and press <kbd>Enter</kbd>. ORGA<em>Nice</em> will show you all patients, doctors, and donors present in the system.</p>
</div>
</div>
<div class="sect3">
<h4 id="listing-persons-of-a-specified-type"><a class="link" href="#listing-persons-of-a-specified-type">3.2.2. Listing persons of a specified type</a></h4>
<div class="paragraph">
<p>If you wish to see a certain type of person only, you can provide the type parameter in the list command.</p>
</div>
<div class="paragraph">
<p>Optional parameter: Type - <code>t/TYPE</code></p>
</div>
<div class="paragraph">
<p>For instance, if you only want to see all doctors, you can enter the following:
<code>list t/doctor</code>. Likewise, you can change the type parameter in the same manner to see only patients or donors.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="viewing-help-code-help-code"><a class="link" href="#viewing-help-code-help-code">3.3. Viewing help: <code>help</code></a></h3>
<div class="paragraph">
<p>There may be times where you need more information on how ORGA<em>Nice</em> works.
To access the user guide of ORGA<em>Nice</em>, you can do the following:</p>
</div>
<div class="paragraph">
<p>Simply type <code>help</code> in the Command Box and press <kbd>Enter</kbd>. You will see a link given in a pop-up "Help" window.
You may click on the <kbd>Copy URL</kbd> button and paste it in a browser to see our user guide for more information on how to use ORGA<em>Nice</em>.</p>
</div>
<div class="paragraph">
<p>To exit the window, click the <kbd>x</kbd> button found near the top of the window to close it and return to the default display.</p>
</div>
</div>
<div class="sect2">
<h3 id="editing-a-person-s-attribute-code-edit-code"><a class="link" href="#editing-a-person-s-attribute-code-edit-code">3.4. Editing a person&#8217;s attribute: <code>edit</code></a></h3>
<div class="paragraph">
<p>If you want to make any changes to a person&#8217;s attribute, you can edit the information using an edit command.
If there are multiple attributes to change, you can do so in the same edit command.</p>
</div>
<div class="paragraph">
<p>The format is such that after the <code>edit</code> keyword, provide the person&#8217;s NRIC, followed by the attribute(s) that you want to change in the edit command.</p>
</div>
<div class="paragraph">
<p>Format: <code>edit <strong>NRIC</strong></code> followed by attributes to update</p>
</div>
<div class="paragraph">
<p>For instance, if you want to change a patient&#8217;s phone number to 91234567, you can provide his or her NRIC followed by the new phone number
as follows: <code>edit S8732457G p/91234567</code>.</p>
</div>
<div class="paragraph">
<p><strong>You can only make changes to attributes that the person has.</strong>
For example, you cannot change a doctor&#8217;s age because a doctor does not have that attribute in ORGA<em>Nice</em>.</p>
</div>
<div class="paragraph">
<p><strong>Besides that, some attributes cannot be edited.</strong> These include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>NRIC</p>
</li>
<li>
<p>Type</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You may want to refer to <a href="#List of Attributes">[List of Attributes]</a> to see what attributes apply to each type of person in ORGA<em>Nice</em>.</p>
</div>
<div class="paragraph">
<p><span class="teal">{End of the excerpt from User Guide}</span></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-developer-guide"><a class="link" href="#contributions-to-the-developer-guide">4. Contributions to the Developer Guide</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section showcases my ability to write technical documentation and to visually represent a system using
Unified Modelling Language (UML) diagrams in the Developer Guide. The sequence shown in the excerpt below will be use cases for
<code>list</code> and <code>sort</code> features, followed by their implementations, and lastly, the <code>Model</code> class diagram that I have updated.</p>
</div>
<div class="paragraph">
<p><span class="teal">{Start of the excerpt from Developer Guide}</span></p>
</div>
<div class="sect2">
<h3 id="use-case-list-all-patients-donors-doctors"><a class="link" href="#use-case-list-all-patients-donors-doctors">4.1. Use case: List all patients/donors/doctors</a></h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to list patients/donors/doctors.</p>
</li>
<li>
<p>ORGA<em>Nice</em> shows the list of patients/donors/doctors.</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>1a. ORGA<em>Nice</em> detects an invalid parameter.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>1a1. ORGA<em>Nice</em> returns error message.</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="use-case-sort-list-according-to-priority-rate-expiry"><a class="link" href="#use-case-sort-list-according-to-priority-rate-expiry">4.2. Use case: Sort list according to priority/rate/expiry</a></h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to sort the list of donors of a particular patient.</p>
</li>
<li>
<p>ORGA<em>Nice</em> sorts the list of donors according to the parameters.</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>1a. ORGA<em>Nice</em> detects invalid parameter(s).</p>
<div class="ulist none">
<ul class="none">
<li>
<p>1a1. ORGA<em>Nice</em> prompts for valid parameter(s).</p>
</li>
<li>
<p>1a2. User enters correct parameter(s).</p>
<div class="paragraph">
<p>Steps 1a1-1a2 are repeated until the data entered are correct.</p>
</div>
<div class="paragraph">
<p>Use case resumes at step 2.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="list-feature"><a class="link" href="#list-feature">4.3. List feature</a></h3>
<div class="paragraph">
<p>This section describes how the list feature is implemented.</p>
</div>
<div class="paragraph">
<p>The list feature is implemented using the <code>ListCommand(Type type)</code>. When the list command is executed,
the method <code>ModelManager#updateFilteredPersonList(Predicate&lt;Person&gt; predicate)</code> takes in a predicate
to decide what type of <code>Person</code> to show on the <code>filteredPersons</code> list.</p>
</div>
<div class="paragraph">
<p>Therefore, in addition to the existing <code>PREDICATE_SHOW_ALL_PERSONS</code> predicate, three other predicates are introduced
in the <code>Model</code> interface to update the list.</p>
</div>
<div class="paragraph">
<p>The code snippet below shows what these predicates are:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">    <span class="comment">/** {@code Predicate} that always evaluate to true */</span>
    <span class="predefined-type">Predicate</span>&lt;Person&gt; PREDICATE_SHOW_ALL_PERSONS = unused -&gt; <span class="predefined-constant">true</span>;

    <span class="comment">/** {@code Predicate} that always evaluate to true if person is a doctor */</span>
    <span class="predefined-type">Predicate</span>&lt;Person&gt; PREDICATE_SHOW_ALL_DOCTORS = person -&gt; person.getType().isDoctor();

    <span class="comment">/** {@code Predicate} that always evaluate to true  if person is a donor */</span>
    <span class="predefined-type">Predicate</span>&lt;Person&gt; PREDICATE_SHOW_ALL_DONORS = person -&gt; person.getType().isDonor();

    <span class="comment">/** {@code Predicate} that always evaluate to true if person is a patient */</span>
    <span class="predefined-type">Predicate</span>&lt;Person&gt; PREDICATE_SHOW_ALL_PATIENTS = person -&gt; person.getType().isPatient();</code></pre>
</div>
</div>
<div class="paragraph">
<p>The activity diagram below illustrates what happens when a user uses the list command.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/ListActivityDiagram.png" alt="ListActivityDiagram" width="450">
</div>
<div class="title">Figure 1. Activity Diagram of a List Command</div>
</div>
<div class="paragraph">
<p>When the user enters a list command, the result differs depending on the parameter of the command.
If there is no parameter after 'list', ORGA<em>Nice</em> will simply list all existing doctors, patients, and donors on the list.
If there is a parameter, ORGA<em>Nice</em> will check if it is a valid <code>TYPE</code> parameter and display the correct list of persons
that corresponds to this type.
If the parameter is not valid, an error message will be displayed to indicate that the command is invalid.</p>
</div>
</div>
<div class="sect2">
<h3 id="sort-feature"><a class="link" href="#sort-feature">4.4. Sort feature</a></h3>
<div class="paragraph">
<p>This section describes how the sort feature is implemented.</p>
</div>
<div class="paragraph">
<p>Sorting is done by using <code>Comparators</code> in the <code>Logic</code> component and makes use of the <code>SortCommand</code>.
This command only works after a <code>MatchCommand</code> is called by the user, because it takes in <code>listOfMatches</code> returned
from calling a <code>MatchCommand</code>. Importantly, this <code>listOfMatches</code> is an <code>ObservableList</code>, which cannot be modified.
Therefore, it makes use of <code>SortedList</code> to wrap around the <code>ObservableList</code> so that the list can be modified by sorting.
Thus far, the sort command can only take in one <code>String</code> parameter, but more methods can be added in the future for more sorting options.</p>
</div>
<div class="paragraph">
<p>Three methods of sorting are implemented to sort based on the following categories:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Sorting based on donor&#8217;s organ expiry date with <code>sort expiry</code></p>
</li>
<li>
<p>Sorting based on priority with <code>sort priority</code></p>
</li>
<li>
<p>Sorting based on compatibility rate of the match with <code>sort rate</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These three methods' implementation will be further elaborated upon below.</p>
</div>
<div class="sect3">
<h4 id="sort-by-expiry"><a class="link" href="#sort-by-expiry">4.4.1. Sort by Expiry</a></h4>
<div class="paragraph">
<p>Sorting by Expiry sorts a list of <code>MatchedDonor</code> with the <code>ModelManager#sortByOrganExpiryDate()</code> method.</p>
</div>
<div class="paragraph">
<p>In this method, the <code>ExpiryComparator</code> is used to compare two matched donors' organ expiry dates, and this requires
the <code>OrganExpiryDate</code> of the donors to be parsed into a data format that can be compared.</p>
</div>
</div>
<div class="sect3">
<h4 id="sort-by-compatibility-rate"><a class="link" href="#sort-by-compatibility-rate">4.4.2. Sort by Compatibility Rate</a></h4>
<div class="paragraph">
<p>Sorting by Compatibility Rate sorts a list of <code>MatchedPatient</code> using the <code>ModelManager#sortBySuccessRate()</code> method.</p>
</div>
<div class="paragraph">
<p>The <code>CompatibilityRateComparator</code> is created to compare two matched patients' rate of compatibility for the match.</p>
</div>
<div class="paragraph">
<p>Given below is a Sequence Diagram to show the interactions with the <code>Logic</code> component when executing the <code>execute(sort rate)</code> method,
assuming the user has entered a valid <code>match ic/<strong>NRIC</strong></code> command before this.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/SortSequenceDiagram.png" alt="SortSequenceDiagram" width="600">
</div>
<div class="title">Figure 2. Sequential Diagram of the <code>sort rate</code> command</div>
</div>
<div class="paragraph">
<p>After the command is given by the user, it would be parsed by the <code>AddressBookParser</code>.
The <code>SortCommandParser</code> then parses the parameter <code>rate</code> and a <code>SortCommand</code> is created.
The <code>LogicManager</code> will then execute the command and call the <code>sortByCompatibilityRate()</code> method from the <code>ModelManager</code>.
The list of <code>MatchedPatient</code> will then be sorted based on their match&#8217;s compatibility rate.</p>
</div>
</div>
<div class="sect3">
<h4 id="sort-by-priority"><a class="link" href="#sort-by-priority">4.4.3. Sort by Priority</a></h4>
<div class="paragraph">
<p>Sorting by Expiry sorts a list of <code>MatchedPatient</code> using the <code>ModelManager#sortByPriority()</code> method.</p>
</div>
<div class="paragraph">
<p>In this method, there are two other comparators created in addition to the <code>Priority Comparator</code>,
namely the <code>NameComparator</code> and the <code>NumOfMatchesComparator</code>. These two comparators serve as tie-breakers in cases where
patients have the same priority. In other words, for patients of the same priority, those with more matched donors will be displayed first.
If these two factors are the same for a group of patients, they will be displayed according to their names in alphabetical order.</p>
</div>
<div class="paragraph">
<p>Under the <code>sortByPriority()</code> method, the order of applying the comparators to the list of patients
is, firstly, the 'NameComparator', followed by <code>NumOfMatchesComparator</code>, and lastly, the <code>PriorityComparator</code>.
This means that the patients are first sorted by names in alphabetical order, followed by the number of matched donors they have
in descending order (highest to lowest), and then their priority level in descending order (from high, to medium, to low).</p>
</div>
<div class="paragraph">
<p>All three comparators makes use of the <code>compareTo</code> method under the <code>Comparable</code> class, which can sort in lexical order for String,
and numeric order for Sorting integers.
In particular, the <code>PriorityComparator</code> makes use of the <code>compareTo</code> method implemented in the <code>Priority</code> class.
A code snippet of this method is shown below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Override</span>
<span class="directive">public</span> <span class="type">int</span> compareTo(Priority priority) {
<span class="predefined-type">Integer</span> thisPriorityNumber = <span class="integer">0</span>;
<span class="predefined-type">Integer</span> otherPriorityNumber = <span class="integer">0</span>;

        <span class="keyword">if</span> (<span class="local-variable">this</span>.isHighPriority()) {
            thisPriorityNumber = <span class="integer">3</span>;
        } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="local-variable">this</span>.isMediumPriority()) {
            thisPriorityNumber = <span class="integer">2</span>;
        } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="local-variable">this</span>.isLowPriority()) {
            thisPriorityNumber = <span class="integer">1</span>;
        }
        <span class="keyword">if</span> (priority.isHighPriority()) {
            otherPriorityNumber = <span class="integer">3</span>;
        } <span class="keyword">else</span> <span class="keyword">if</span> (priority.isMediumPriority()) {
            otherPriorityNumber = <span class="integer">2</span>;
        } <span class="keyword">else</span> <span class="keyword">if</span> (priority.isLowPriority()) {
            otherPriorityNumber = <span class="integer">1</span>;
        }
        <span class="keyword">return</span> thisPriorityNumber.compareTo(otherPriorityNumber);
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>This implementation is the result of using <code>String</code> to represent the different priorities in the <code>Priority</code> class.
Therefore, they are converted into <code>Integer</code> for easier comparison. An alternative solution would be to make use of
<code>Enum</code> class to define each priority so that this <code>compareTo</code> method implementation can be simplified.</p>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">4.4.4. Design considerations</a></h4>
<div class="paragraph">
<p>This section will explain two aspects considered in designing the sort feature.</p>
</div>
<div class="sect4">
<h5 id="aspect-method-of-storing-the-sorted-result"><a class="link" href="#aspect-method-of-storing-the-sorted-result">Aspect: Method of storing the sorted result</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Use <code>SortedList</code>.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Fast iteration time of O(n * log n), which is important for ORGA<em>Nice</em> to load and display the sorted result, and more harmonious
with current implementations (able to wrap <code>ObservableList</code> and sort the content).</p>
</li>
<li>
<p>Cons: Not the most efficient algorithm for insertions or deletions, but ORGA<em>Nice</em> does not require them.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Use <code>ArrayList</code>.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Fast index-based access and works on any <code>Collection</code> class.</p>
</li>
<li>
<p>Cons: Slower than <code>SortedList</code> as it takes O(n) time to iterate and display the results.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-method-of-sorting"><a class="link" href="#aspect-method-of-sorting">Aspect: Method of sorting</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Use <code>Comparator</code> and <code>Comparable</code>.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Simpler implementation as able to make use of existing methods in ORGA<em>Nice</em> such as <code>setComparator</code>.</p>
</li>
<li>
<p>Cons: More coding involved.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Use <code>Collections.sort()</code>.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Has a time complexity of O(n*log(n)) which is relatively fast.</p>
</li>
<li>
<p>Cons: Cannot make use of existing methods in ORGA<em>Nice</em> that work for Comparator.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="Design-Model"><a class="link" href="#Design-Model">4.5. Model component</a></h3>
<div class="imageblock">
<div class="content">
<img src="../images/ModelClassDiagram.png" alt="ModelClassDiagram" width="630">
</div>
<div class="title">Figure 3. Structure of the Model Component</div>
</div>
<div class="paragraph">
<p><span class="teal">{End of the excerpt from Developer Guide}</span></p>
</div>
</div>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2019-11-11 15:19:36 UTC</div></div></div></body></html>